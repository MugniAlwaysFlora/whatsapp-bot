const { generateWAMessageFromContent, proto } = require("@whiskeysockets/baileys") 
let handler = async (m, { conn, args }) => {
    const channelId = '120363251106848970@newsletter';
    let pesan = args.join(' ');
    if (!pesan) throw 'â€¢ *Contoh :* .sendch Hello';
const senderName = m.pushName
    const messages = {
        extendedTextMessage: {
            text: `${pesan}\n\nDikirim oleh: ${senderName}`,
            contextInfo: {
isForwarded: true, 
 forwardedNewsletterMessageInfo: {
 newsletterJid: '120363251106848970@newsletter',
 newsletterName: 'Powered By ritz',
 serverMessageId: -1
},
                externalAdReply: {
                    body: 'powered by ritz',
                    mediaType: 1,
                    renderLargerThumbnail: false,
                    thumbnailUrl: 'https://telegra.ph/file/3a34bfa58714bdef500d9.jpg',
                    sourceUrl: ''
                }
            }
        }
    };

    const messageToChannel = proto.Message.encode(messages).finish();
    const result = {
        tag: 'message',
        attrs: { to: channelId, type: 'text' },
        content: [
            {
                tag: 'plaintext',
                attrs: {},
                content: messageToChannel
            }
        ]
    };

    await conn.query(result);

    m.reply(`Berhasil Mengirim:\nPesan: ${pesan}\ntarget: Channel ${channelId}`);
};

handler.help = ['sendch *<text>*'];
handler.tags = ['owner'];
handler.command = /^(sendch)$/i;
handler.owner = true;

module.exports = handler;
//MugniSM
